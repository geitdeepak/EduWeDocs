
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../LAB_10-Implement_Data_Protection/">
      
      
        <link rel="next" href="../contact/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.12">
    
    
      
        <title>Lab - Implement Monitoring - EduWe</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.2afb09e1.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#lab-implement-monitoring" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="EduWe" class="md-header__button md-logo" aria-label="EduWe" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            EduWe
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Lab - Implement Monitoring
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="light-blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="light-blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="EduWe" class="md-nav__button md-logo" aria-label="EduWe" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    EduWe
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    About Us
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../LAB_01-Manage_Entra_ID_Identities/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab - Manage Microsoft Entra ID Identities
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../LAB_02a_Manage_Subscriptions_and_RBAC_Entra/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab - Manage Subscriptions and RBAC
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../LAB_02b-Manage_Governance_via_Azure_Policy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab - Manage Governance via Azure Policy
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../LAB_03b-Manage_Azure_Resources_by_Using_ARM_Templates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab - Manage Azure Resources by using Azure Resource Manager Templates
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../LAB_04-Implement_Virtual_Networking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab - Implement Virtual Networking
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../LAB_05-Implement_Intersite_Connectivity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab - Implement Intersite Connectivity
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../LAB_06-Implement_Network_Traffic_Management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab - Implement Network Traffic Management
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../LAB_07-Manage_Azure_Storage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab - Manage Azure Storage
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../LAB_08-Manage_Virtual_Machines/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab - Manage Virtual Machines
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../LAB_09a-Implement_Web_Apps/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab - Implement Web Apps
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../LAB_09b-Implement_Azure_Container_Instances/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab - Implement Azure Container Instances (ACI)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../LAB_09c-Implement-Azure-Container-Apps/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab - Implement Azure Container Apps
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../LAB_10-Implement_Data_Protection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab - Implement Data Protection
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Lab - Implement Monitoring
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Lab - Implement Monitoring
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#lab-introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Lab Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#estimated-timing-40-minutes" class="md-nav__link">
    <span class="md-ellipsis">
      Estimated Timing: 40 Minutes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lab-scenario" class="md-nav__link">
    <span class="md-ellipsis">
      Lab Scenario
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interactive-lab-simulation" class="md-nav__link">
    <span class="md-ellipsis">
      Interactive Lab Simulation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#architecture-diagram" class="md-nav__link">
    <span class="md-ellipsis">
      Architecture Diagram
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#job-skills" class="md-nav__link">
    <span class="md-ellipsis">
      Job Skills
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-1-use-a-template-to-provision-an-infrastructure" class="md-nav__link">
    <span class="md-ellipsis">
      Task 1: Use a Template to Provision an Infrastructure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-2-create-an-alert" class="md-nav__link">
    <span class="md-ellipsis">
      Task 2: Create an Alert
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-3-configure-action-group-notifications" class="md-nav__link">
    <span class="md-ellipsis">
      Task 3: Configure Action Group Notifications
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-4-trigger-an-alert-and-confirm-it-is-working" class="md-nav__link">
    <span class="md-ellipsis">
      Task 4: Trigger an Alert and Confirm it is working
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-5-configure-an-alert-processing-rule" class="md-nav__link">
    <span class="md-ellipsis">
      Task 5: Configure an Alert Processing Rule
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-6-use-azure-monitor-log-queries" class="md-nav__link">
    <span class="md-ellipsis">
      Task 6: Use Azure Monitor Log Queries
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cleanup-your-resources" class="md-nav__link">
    <span class="md-ellipsis">
      Cleanup your Resources
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-takeaways" class="md-nav__link">
    <span class="md-ellipsis">
      Key Takeaways
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../contact/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contact Us
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_17" >
        
          
          <label class="md-nav__link" for="__nav_17" id="__nav_17_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Media
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_17_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_17">
            <span class="md-nav__icon md-icon"></span>
            Media
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../media/readme/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Readme
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#lab-introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Lab Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#estimated-timing-40-minutes" class="md-nav__link">
    <span class="md-ellipsis">
      Estimated Timing: 40 Minutes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lab-scenario" class="md-nav__link">
    <span class="md-ellipsis">
      Lab Scenario
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interactive-lab-simulation" class="md-nav__link">
    <span class="md-ellipsis">
      Interactive Lab Simulation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#architecture-diagram" class="md-nav__link">
    <span class="md-ellipsis">
      Architecture Diagram
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#job-skills" class="md-nav__link">
    <span class="md-ellipsis">
      Job Skills
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-1-use-a-template-to-provision-an-infrastructure" class="md-nav__link">
    <span class="md-ellipsis">
      Task 1: Use a Template to Provision an Infrastructure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-2-create-an-alert" class="md-nav__link">
    <span class="md-ellipsis">
      Task 2: Create an Alert
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-3-configure-action-group-notifications" class="md-nav__link">
    <span class="md-ellipsis">
      Task 3: Configure Action Group Notifications
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-4-trigger-an-alert-and-confirm-it-is-working" class="md-nav__link">
    <span class="md-ellipsis">
      Task 4: Trigger an Alert and Confirm it is working
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-5-configure-an-alert-processing-rule" class="md-nav__link">
    <span class="md-ellipsis">
      Task 5: Configure an Alert Processing Rule
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-6-use-azure-monitor-log-queries" class="md-nav__link">
    <span class="md-ellipsis">
      Task 6: Use Azure Monitor Log Queries
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cleanup-your-resources" class="md-nav__link">
    <span class="md-ellipsis">
      Cleanup your Resources
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-takeaways" class="md-nav__link">
    <span class="md-ellipsis">
      Key Takeaways
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="lab-implement-monitoring">Lab - Implement Monitoring</h1>
<hr />
<h2 id="lab-introduction">Lab Introduction</h2>
<p>In this lab, you learn about Azure Monitor. You learn to create an alert and send it to an action group. You trigger and test the alert and check the activity log.  </p>
<p>This lab requires an Azure subscription. Your subscription type may affect the availability of features in this lab. You may change the region, but the steps are written using <strong>East US</strong>.</p>
<h2 id="estimated-timing-40-minutes">Estimated Timing: 40 Minutes</h2>
<h2 id="lab-scenario">Lab Scenario</h2>
<p><strong>Adamantus Technologies</strong> has migrated their infrastructure to Azure. It is important that Administrators are notified of any significant infrastructure changes. You plan to examine the capabilities of Azure Monitor, including Log Analytics.</p>
<h2 id="interactive-lab-simulation">Interactive Lab Simulation</h2>
<p>There is an interactive lab simulation that you might find useful for this topic. The simulation lets you to click through a similar scenario at your own pace. There are differences between the interactive simulation and this lab, but many of the core concepts are the same. An Azure subscription is not required.</p>
<ul>
<li><a href="https://mslabs.cloudguides.com/guides/AZ-104%20Exam%20Guide%20-%20Microsoft%20Azure%20Administrator%20Exercise%2017">Implement Monitoring</a>. Create a Log Analytics workspace and Azure-automation solutions. Review monitoring and diagnostic settings for virtual machines. Review Azure Monitor and Log Analytics functionality. </li>
</ul>
<h2 id="architecture-diagram">Architecture Diagram</h2>
<p><img alt="Diagram of the architecture tasks" src="../media/az104-lab11-architecture.png" /></p>
<h2 id="job-skills">Job Skills</h2>
<ul>
<li><strong>Task 1: Use a template to provision an infrastructure.</strong></li>
<li><strong>Task 2: Create an alert.</strong></li>
<li><strong>Task 3: Configure action group notifications.</strong></li>
<li><strong>Task 4: Trigger an alert and confirm it is working.</strong></li>
<li><strong>Task 5: Configure an alert processing rule.</strong></li>
<li><strong>Task 6: Use Azure Monitor log queries.</strong></li>
</ul>
<h2 id="task-1-use-a-template-to-provision-an-infrastructure">Task 1: Use a Template to Provision an Infrastructure</h2>
<p>In this task, you will deploy a virtual machine that will be used to test monitoring scenarios.</p>
<ol>
<li>
<p><a href="../../Allfiles/Labs/11/az104-11-vm-template.json" download>⬇️ Download the ARM Template for Implement Monitoring Lab </a></p>
</li>
<li>
<p>Sign in to the <strong>Azure portal</strong> - <code>https://portal.azure.com</code>.</p>
</li>
<li>
<p>From the Azure portal, search for and select <code>Deploy a custom template</code>.</p>
</li>
<li>
<p>On the custom deployment page, select <strong>Build you own template in the editor</strong>.</p>
</li>
<li>
<p>On the edit template page, select <strong>Load file</strong>.</p>
</li>
<li>
<p>Locate and select the <strong>az104-11-vm-template.json</strong> file in your download directory and select <strong>Open</strong>.</p>
</li>
<li>
<p>Select <strong>Save</strong>.</p>
</li>
<li>
<p>Use the following information to complete the custom deployment fields, leaving all other fields with their default values:</p>
<table>
<thead>
<tr>
<th>Setting</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Subscription</td>
<td>Your Azure subscription</td>
</tr>
<tr>
<td>Resource group</td>
<td><code>az104-rg11</code> (If necessary, select <strong>Create new</strong>)</td>
</tr>
<tr>
<td>Region</td>
<td><strong>East US</strong></td>
</tr>
<tr>
<td>Username</td>
<td><code>localadmin</code></td>
</tr>
<tr>
<td>Password</td>
<td>Provide a complex password</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Select <strong>Review + Create</strong>, then select <strong>Create</strong>.</p>
</li>
<li>
<p>Wait for the deployment to finish, then click <strong>Go to resource group</strong>.</p>
</li>
<li>
<p>Review what resources were deployed. There should be one virtual network with one virtual machine.</p>
</li>
</ol>
<p><strong>Configure Azure Monitor for Virtual Machines (this will be used in the last task)</strong></p>
<ol>
<li>
<p>In the portal, search for and select <strong>Monitor</strong>.</p>
</li>
<li>
<p>Take a minute to review all the insights, detection, triage, and diagnosis tools that are available.</p>
</li>
<li>
<p>Select <strong>View</strong> in the <strong>VM Insights</strong> box, and then select <strong>Configure Insights</strong>.</p>
</li>
<li>
<p>Select your virtual machine, and then <strong>Enable</strong> (twice).</p>
</li>
<li>
<p>Take the defaults for subscription and data collection rules, then select <strong>Configure</strong>. </p>
</li>
<li>
<p>It will take a few minutes for the virtual machine agent to install and configure, proceed to the next step. </p>
</li>
</ol>
<h2 id="task-2-create-an-alert">Task 2: Create an Alert</h2>
<p>In this task, you create an alert for when a virtual machine is deleted. </p>
<ol>
<li>
<p>Continue on the <strong>Monitor</strong> page , select <strong>Alerts</strong>. </p>
</li>
<li>
<p>Select <strong>Create +</strong> and select <strong>Alert rule</strong>. </p>
</li>
<li>
<p>Select the box for the subscription, then select <strong>Apply</strong>. This alert will apply to any virtual machines in the subscription. Alternatively, you could just specify one particular machine. </p>
</li>
<li>
<p>Select the <strong>Condition</strong> tab and then select the <strong>See all signals</strong> link.</p>
</li>
<li>
<p>Search for and select <strong>Delete Virtual Machine (Virtual Machines)</strong>. Notice the other built-in signals. Select <strong>Apply</strong></p>
</li>
<li>
<p>In the <strong>Alert logic</strong> area (scroll down), review the <strong>Event level</strong> selections. Leave the default of <strong>All selected</strong>.</p>
</li>
<li>
<p>Review the <strong>Status</strong> selections. Leave the default of <strong>All selected</strong>.</p>
</li>
<li>
<p>Leave the <strong>Create an alert rule</strong> pane open for the next task.</p>
</li>
</ol>
<h2 id="task-3-configure-action-group-notifications">Task 3: Configure Action Group Notifications</h2>
<p>In this task, if the alert is triggered send an email notification to the operations team. </p>
<ol>
<li>
<p>Continue working on your alert. Select <strong>Next: Actions</strong>, and then select <strong>Create action group</strong>.</p>
<blockquote>
<p><strong>Did you know?</strong> You can add up to five action groups to an alert rule. Action groups are executed concurrently, in no specific order. Multiple alert rules can use the same action group. </p>
</blockquote>
</li>
<li>
<p>On the <strong>Basics</strong> tab, enter the following values for each setting.</p>
<table>
<thead>
<tr>
<th>Setting</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Project details</strong></td>
<td></td>
</tr>
<tr>
<td>Subscription</td>
<td>your subscription</td>
</tr>
<tr>
<td>Resource group</td>
<td><strong>az104-rg11</strong></td>
</tr>
<tr>
<td>Region</td>
<td><strong>Global</strong> (default)</td>
</tr>
<tr>
<td><strong>Instance details</strong></td>
<td></td>
</tr>
<tr>
<td>Action group name</td>
<td><code>Alert the operations team</code> (must be unique in the resource group)</td>
</tr>
<tr>
<td>Display name</td>
<td><code>AlertOpsTeam</code></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Select <strong>Next: Notifications</strong> and enter the following values for each setting.</p>
<table>
<thead>
<tr>
<th>Setting</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Notification type</td>
<td>Select <strong>Email/SMS message/Push/Voice</strong></td>
</tr>
<tr>
<td>Name</td>
<td><code>VM was deleted</code></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Select <strong>Email</strong>, and in the <strong>Email</strong> box, enter your email address, and then select <strong>OK</strong>. </p>
<blockquote>
<p><strong>Note:</strong> You should receive an email notification saying you were added to an action group. There may be a few minutes delay, but that is a sure sign the rule has deployed.</p>
</blockquote>
</li>
<li>
<p>Select <strong>Review + Create</strong> and then <strong>Create</strong>.</p>
</li>
<li>
<p>Once the action group is created move to the <strong>Next: Details</strong> tab and enter the following values for each setting.</p>
<table>
<thead>
<tr>
<th>Setting</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Alert rule name</td>
<td><code>VM was deleted</code></td>
</tr>
<tr>
<td>Alert rule description</td>
<td><code>A VM in your resource group was deleted</code></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Select <strong>Review + create</strong> to validate your input, then select <strong>Create</strong>.</p>
</li>
</ol>
<h2 id="task-4-trigger-an-alert-and-confirm-it-is-working">Task 4: Trigger an Alert and Confirm it is working</h2>
<p>In this task, you trigger the alert and confirm a notification is sent. </p>
<blockquote>
<p><strong>Note:</strong> If you delete the virtual machine before the alert rule deploys, the alert rule might not be triggered. </p>
</blockquote>
<ol>
<li>
<p>In the portal, search for and select <strong>Virtual machines</strong>.</p>
</li>
<li>
<p>Check the box for the <strong>az104-vm0</strong> virtual machine.</p>
</li>
<li>
<p>Select <strong>Delete</strong> from the menu bar.</p>
</li>
<li>
<p>Check the box for <strong>Apply force delete</strong>. Check the box at the bottom confirming that you want the resources to be deleted and select <strong>Delete</strong>. </p>
</li>
<li>
<p>In the title bar, select the <strong>Notifications</strong> icon and wait until <strong>vm0</strong> is successfully deleted.</p>
</li>
<li>
<p>You should receive a notification email that reads, <strong>Important notice: Azure Monitor alert VM was deleted was activated...</strong> If not, open your email program and look for an email from azure-noreply@microsoft.com.</p>
<p><img alt="Screenshot of alert email." src="../media/az104-lab11-alert-email.png" /></p>
</li>
<li>
<p>On the Azure portal resource menu, select <strong>Monitor</strong>, and then select <strong>Alerts</strong> in the menu on the left.</p>
</li>
<li>
<p>You should have three verbose alerts that were generated by deleting <strong>vm0</strong>.</p>
</li>
</ol>
<blockquote>
<p><strong>Note:</strong> It can take a few minutes for the alert email to be sent and for the alerts to be updated in the portal. If you don't want to wait, continue to the next task and then return. </p>
</blockquote>
<ol>
<li>Select the name of one of the alerts (For example, <strong>VM was deleted</strong>). An <strong>Alert details</strong> pane appears that shows more details about the event.</li>
</ol>
<h2 id="task-5-configure-an-alert-processing-rule">Task 5: Configure an Alert Processing Rule</h2>
<p>In this task, you create an alert rule to suppress notifications during a maintenance period. </p>
<ol>
<li>
<p>Continue in the <strong>Alerts</strong> blade, select <strong>Alert processing rules</strong> and then <strong>+ Create</strong>. </p>
</li>
<li>
<p>Select your <strong>Subscription</strong>, then select <strong>Apply</strong>.</p>
</li>
<li>
<p>Select <strong>Next: Rule settings</strong>, then select <strong>Suppress notifications</strong>.</p>
</li>
<li>
<p>Select <strong>Next: Scheduling</strong>.</p>
</li>
<li>
<p>By default, the rule works all the time, unless you disable it or configure a schedule. You are going to define a rule to suppress notifications during overnight maintenance.
Enter these settings for the scheduling of the alert processing rule:</p>
<table>
<thead>
<tr>
<th>Setting</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Apply the rule</td>
<td>At a specific time</td>
</tr>
<tr>
<td>Start</td>
<td>Enter today's date at 10 pm.</td>
</tr>
<tr>
<td>End</td>
<td>Enter tomorrow's date at 7 am.</td>
</tr>
<tr>
<td>Time zone</td>
<td>Select the local timezone.</td>
</tr>
</tbody>
</table>
<p><img alt="Screenshot of the scheduling section of an alert processing rule" src="../media/az104-lab11-alert-processing-rule-schedule.png" /></p>
</li>
<li>
<p>Select <strong>Next: Details</strong> and enter these settings:</p>
<table>
<thead>
<tr>
<th>Setting</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Resource group</td>
<td><strong>az104-rg11</strong></td>
</tr>
<tr>
<td>Rule name</td>
<td><code>Planned Maintenance</code></td>
</tr>
<tr>
<td>Description</td>
<td><code>Suppress notifications during planned maintenance.</code></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Select <strong>Review + create</strong> to validate your input, then select <strong>Create</strong>.</p>
</li>
</ol>
<h2 id="task-6-use-azure-monitor-log-queries">Task 6: Use Azure Monitor Log Queries</h2>
<p>In this task, you will use Azure Monitor to query the data captured from the virtual machine.</p>
<ol>
<li>
<p>In the Azure portal, search for and select <code>Monitor</code>, then click <strong>Logs</strong>.</p>
</li>
<li>
<p>If necessary, close the splash screen. </p>
</li>
<li>
<p>If necessary, select a scope, your <strong>Subscription</strong>. Select <strong>Apply</strong>. </p>
</li>
<li>
<p>In the <strong>Queries</strong> tab, select <strong>Virtual machines</strong> (left pane). You may need to reopen the blade.</p>
</li>
<li>
<p>Review the queries that are available. <strong>Run</strong> (hover over the query) the <strong>Count heartbeats</strong> query.</p>
</li>
<li>
<p>You should receive a heartbeat count for when the virtual machine was running.</p>
</li>
<li>
<p>Review the query. This query uses the <em>heartbeat</em> table. </p>
</li>
<li>
<p>Replace the query with this one, and then click <strong>Run</strong>. Review the resulting chart. </p>
</li>
</ol>
<p><code>InsightsMetrics
    | where TimeGenerated &gt; ago(1h)
    | where Name == "UtilizationPercentage"
    | summarize avg(Val) by bin(TimeGenerated, 5m), Computer //split up by computer
    | render timechart</code></p>
<ol>
<li>As you have time, review and run other queries. </li>
</ol>
<blockquote>
<p><strong>Did you know?</strong>: If you want to practice with other queries, there is a <a href="https://learn.microsoft.com/azure/azure-monitor/logs/log-analytics-tutorial#open-log-analytics">Log Analytics Demo Environment</a>.</p>
<p><strong>Did you know?</strong>: Once you find a query you like, you can create an alert from it. </p>
</blockquote>
<h2 id="cleanup-your-resources">Cleanup your Resources</h2>
<p>If you are working with <strong>your own subscription</strong> take a minute to delete the lab resources. This will ensure resources are freed up and cost is minimized. The easiest way to delete the lab resources is to delete the lab resource group. </p>
<ul>
<li>In the Azure portal, select the resource group, select <strong>Delete the resource group</strong>, <strong>Enter resource group name</strong>, and then click <strong>Delete</strong>.</li>
<li>Using Azure PowerShell, <code>Remove-AzResourceGroup -Name resourceGroupName</code>.</li>
<li>Using the CLI, <code>az group delete --name resourceGroupName</code>.</li>
</ul>
<h2 id="key-takeaways">Key Takeaways</h2>
<p>Congratulations on completing the lab. Here are the main takeaways for this lab. </p>
<ul>
<li>Alerts help you detect and address issues before users notice there might be a problem with your infrastructure or application.</li>
<li>You can alert on any metric or log data source in the Azure Monitor data platform.</li>
<li>An alert rule monitors your data and captures a signal that indicates something is happening on the specified resource.</li>
<li>An alert is triggered if the conditions of the alert rule are met. Several actions (email, SMS, push, voice) can be triggered.</li>
<li>Action groups include individuals that should be notified of an alert.</li>
</ul>
<hr />
<div style="text-align: center; padding-top: 30px;">
  <img src="/images/logo.png" alt="EduWe Logo" style="max-width: 150px; height: auto;"/>

  <center><strong>Ceekh Edunix Pvt Ltd</strong></center><br>
    Address: H-34, Ground Floor, Sector 63, Noida, Uttar Pradesh<br>
    Email: <a href="mailto:info@ceekh.com" style="color: #007bff;">info@ceekh.com</a>
  </p>
  <p style="font-size: 14px; color: #555;"><center>© 2025 EduWe. All rights reserved.| Developed by Deepak Kumar Tyagi </center></p>
</div>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://www.linkedin.com" target="_blank" rel="noopener" title="LinkedIn" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://www.twitter.com" target="_blank" rel="noopener" title="Twitter" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253"/></svg>
    </a>
  
    
    
    
    
    <a href="https://www.facebook.com" target="_blank" rel="noopener" title="Facebook" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256c0 120 82.7 220.8 194.2 248.5V334.2h-52.8V256h52.8v-33.7c0-87.1 39.4-127.5 125-127.5 16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287v175.9C413.8 494.8 512 386.9 512 256"/></svg>
    </a>
  
    
    
    
    
    <a href="https://www.youtube.com/@eduwe8400" target="_blank" rel="noopener" title="YouTube" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305m-317.51 213.508V175.185l142.739 81.205z"/></svg>
    </a>
  
    
    
    
    
    <a href="mailto:info@ceekh.com" target="_blank" rel="noopener" title="Email" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4l217.6 163.2c11.4 8.5 27 8.5 38.4 0l217.6-163.2c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48zM0 176v208c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V176L294.4 339.2a63.9 63.9 0 0 1-76.8 0z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>